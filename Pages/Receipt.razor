@page "/receipt/{orderid:int}"
@layout PrintLayout

<h1>üçï Order Receipt</h1>

<div class="receipt-header">
    <h2>Blazing Pizza</h2>
    <p>123 Pizza Street, Pizza City, PC 12345</p>
    <p>Phone: (555) 123-PIZZA</p>
    <p>Order Date: @DateTime.Now.ToString("yyyy-MM-dd HH:mm")</p>
</div>

<div class="receipt-details">
    <h3>Order Information</h3>
    <div class="receipt-row">
        <span class="label">Order ID:</span>
        <span class="value">#@OrderId</span>
    </div>
    <div class="receipt-row">
        <span class="label">Customer:</span>
        <span class="value">John Doe</span>
    </div>
    <div class="receipt-row">
        <span class="label">Phone:</span>
        <span class="value">(555) 123-4567</span>
    </div>
    <div class="receipt-row">
        <span class="label">Address:</span>
        <span class="value">456 Customer Lane, Pizza City, PC 12345</span>
    </div>
</div>

<div class="receipt-items">
    <h3>Order Items</h3>
    <div class="items-table">
        <div class="item-header">
            <span>Item</span>
            <span>Size</span>
            <span>Qty</span>
            <span>Price</span>
            <span>Total</span>
        </div>
        <div class="item-row">
            <span>Margherita Pizza</span>
            <span>12"</span>
            <span>2</span>
            <span>$8.99</span>
            <span>$17.98</span>
        </div>
        <div class="item-row">
            <span>Extra Cheese</span>
            <span>-</span>
            <span>1</span>
            <span>$1.50</span>
            <span>$1.50</span>
        </div>
        <div class="item-row">
            <span>Delivery Fee</span>
            <span>-</span>
            <span>1</span>
            <span>$2.99</span>
            <span>$2.99</span>
        </div>
    </div>
</div>

<div class="receipt-total">
    <div class="total-row">
        <span class="label">Subtotal:</span>
        <span class="value">$19.48</span>
    </div>
    <div class="total-row">
        <span class="label">Tax (8.5%):</span>
        <span class="value">$1.66</span>
    </div>
    <div class="total-row total-final">
        <span class="label">Total:</span>
        <span class="value">$23.13</span>
    </div>
</div>

<div class="receipt-footer">
    <p><strong>Payment Method:</strong> Credit Card ending in 1234</p>
    <p><strong>Estimated Delivery:</strong> @DateTime.Now.AddMinutes(30).ToString("HH:mm")</p>
    <p class="thank-you">Thank you for choosing Blazing Pizza!</p>
</div>

<style>
    .receipt-header {
        text-align: center;
        margin-bottom: 2rem;
        padding-bottom: 1rem;
        border-bottom: 2px solid #333;
    }

    .receipt-details {
        margin-bottom: 2rem;
    }

    .receipt-row {
        display: flex;
        justify-content: space-between;
        margin-bottom: 0.5rem;
    }

    .label {
        font-weight: bold;
    }

    .receipt-items {
        margin-bottom: 2rem;
    }

    .items-table {
        width: 100%;
    }

    .item-header {
        display: grid;
        grid-template-columns: 2fr 1fr 1fr 1fr 1fr;
        gap: 1rem;
        padding: 0.5rem;
        background-color: #f5f5f5;
        font-weight: bold;
        border-bottom: 1px solid #333;
    }

    .item-row {
        display: grid;
        grid-template-columns: 2fr 1fr 1fr 1fr 1fr;
        gap: 1rem;
        padding: 0.5rem;
        border-bottom: 1px solid #ccc;
    }

    .receipt-total {
        margin-bottom: 2rem;
    }

    .total-row {
        display: flex;
        justify-content: space-between;
        margin-bottom: 0.5rem;
    }

    .total-final {
        font-size: 1.2rem;
        font-weight: bold;
        border-top: 2px solid #333;
        padding-top: 0.5rem;
        margin-top: 1rem;
    }

    .receipt-footer {
        text-align: center;
        margin-top: 2rem;
        padding-top: 1rem;
        border-top: 1px solid #ccc;
    }

    .thank-you {
        font-size: 1.1rem;
        color: #d32f2f;
        margin-top: 1rem;
    }

    @@media print
    {
        body {
            font-size: 12pt;
        }

            .receipt-header h2 {
                font-size: 18pt;
            }

            .total-final {
                font-size: 14pt;
            }
        }
    </style>

@code {
    [Parameter]
    public int OrderId { get; set; }
}
